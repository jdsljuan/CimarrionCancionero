<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" type="text/css" href="../css/styles.css">
<link rel="shortcut icon" type="image/jpg" href="../img/logoJDSLJUAN.svg"/>
<head>
<meta charset="utf-8">
<!--Make responsive -->
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes">
<title>Post Home - Juan David Sanchez Leal</title>
</head>
</head>
<body>
	<div id="backBar">
		<a href="../index.html">
			<img id="menuBtn" alt="atras" src="../img/arrow_Left.png"  class="menuImg">	
		</a>
		<div id="menuName">volver al inicio</div>
	</div>
	<div class="layer" id="blogLayer" style="display: block;">
		<div class="layerItem layerTitle">Todos los post</div>
		<div class="layerItem layerDeviceLabel">los articulos se ordenan de diferentes maneras.</div>
		
		<div class="layerItem layerPostItem" id="featuredPost1">
			<div class="layerPostItemSpace"></div>
			<div class="layerPostItemArrow">
				<a class="layerPostItemLabel" id="featuredPost1Label" href="">Label for example</a>
			</div>
			<div class="layerPostItemSpace"></div>
		</div>

		<div class="layerItem layerPostItem" id="featuredPost1">
			<div class="layerPostItemSpace"></div>
			<div class="layerPostItemArrow">
				<a class="layerPostItemLabel" id="featuredPost1Label" href="">Label for example</a>
			</div>
			<div class="layerPostItemSpace"></div>
		</div>

		<div class="layerItem layerPostItem" id="featuredPost1">
			<div class="layerPostItemSpace"></div>
			<div class="layerPostItemArrow">
				<a class="layerPostItemLabel" id="featuredPost1Label" href="">Label for example</a>
			</div>
			<div class="layerPostItemSpace"></div>
		</div>
	</div>
</body>
<script>
	window.addEventListener("scroll", listenerMenuPosition);

	var maxScroll = 0;
	function listenerMenuPosition(event){
		const actualScroll = window.scrollY;
		if(actualScroll == 0){
			document.getElementById("backBar").style.position = "relative";
		}else{
			if(actualScroll >= maxScroll){
				maxScroll  = actualScroll;
				loadPostData();
			}
			document.getElementById("backBar").style.position = "fixed";
		}
	}

	var totalPost = 0;
	function loadPostData(){
		var xhr = new XMLHttpRequest();
		var method = "GET";
		var urlBase = "https://script.google.com/macros/s/AKfycbykl9-K739WjZjXnQ5JWphut08E0SFUuGpGILnQw4jJ7cCENIT5BzMFbnv7qILHV6tf/exec";
		var parameters = "?post=1&range=10"
		var url = urlBase+parameters;
		xhr.onreadystatechange = ()=>{
			console.log(xhr.responseXML);
			console.log(xhr.readyState);
			console.log(xhr.status);
			if (this.readyState == 4 && this.status == 200) {
			}
		};
		
		xhr.open(method, url, true);
		xhr.send(null);
	}

	function makePostElement(titleString, link){
		var postItem = document.createElement("div");
		postItem.classList.add("layerItem");
		postItem.classList.add("layerPostItem");

		var spc_top = document.createElement("div");
		spc_top.classList.add("layerPostItemSpace");

		var spc_bot = document.createElement("div");
		spc_bot.classList.add("layerPostItemSpace");

		var postArrow = document.createElement("div");
		postArrow.classList.add("layerPostItemArrow");

		var link = document.createElement("a");
		link.classList.add("layerPostItemLabel");
		link.setAttribute("href", link);
		link.innerText = titleString;
	
		postArrow.appendChild(link);
		postItem.appendChild(spc_top);
		postItem.appendChild(postArrow);
		postItem.appendChild(spc_bot);

		document.body.appendChild(postItem);
	}
</script>
</html>